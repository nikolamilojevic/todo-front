<h2>{{username}}'s todo list</h2>

<table class="table">
  <thead>
    <tr>
      <th scope="col">#</th>
      <th scope="col">Description</th>
      <th scope="col">Status</th>
      <th scope="col">Priority</th>
      <th scope="col"></th>
      <th scope="col"></th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let todo of todos">
      <th scope="row">{{ todo.id }}</th>
      <td *ngIf="!todo.editable">{{ todo.description }}</td>
      <td *ngIf="todo.editable">
        <input [(ngModel)]="todo.description" placeholder="description">
      </td>
      <td *ngIf="!todo.editable">
        {{ todo.status }}
      </td>
      <td *ngIf="todo.editable">
        <select [(ngModel)]="todo.status">
          <option value="Later">Later</option>
          <option value="In progress">In progress</option>
          <option value="Done">Done</option>
        </select>
      </td>
      <td *ngIf="!todo.editable">
        {{ todo.priority }}
      </td>
      <td *ngIf="todo.editable">
        <select [(ngModel)]="todo.priority">
          <option value="1">1</option>
          <option value="2">2</option>
          <option value="3">3</option>
        </select>
      </td>
      <td>
        <button (click)="delete(todo)" type="button" class="btn btn-danger">Delete</button>
      </td>
      <td>
        <button *ngIf="!todo.editable" (click)="edit(todo)" type="button" class="btn btn-warning">Edit</button>
        <button *ngIf="todo.editable" (click)="save(todo)" type="button" class="btn btn-success">Save</button>
      </td>
    </tr>

  </tbody>
</table>
